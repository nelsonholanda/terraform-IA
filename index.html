<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terraform Best Practices - HashiCorp Guidelines</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d3748 100%);
            color: #e2e8f0;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00d4aa, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.8;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .section h2 {
            color: #00d4aa;
            font-size: 2rem;
            margin-bottom: 20px;
            border-bottom: 2px solid #00d4aa;
            padding-bottom: 10px;
        }
        
        .practice-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .practice-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #00d4aa;
            transition: transform 0.3s ease;
        }
        
        .practice-card:hover {
            transform: translateY(-5px);
        }
        
        .practice-card h3 {
            color: #00d4aa;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 10px;
            background: #10b981;
            color: white;
        }
        
        .file-structure {
            background: #1a1a1a;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: "Courier New", monospace;
            border: 1px solid #374151;
        }
        
        .file-structure pre {
            color: #e2e8f0;
            line-height: 1.5;
        }
        
        .file-structure .folder {
            color: #00d4aa;
        }
        
        .file-structure .file {
            color: #60a5fa;
        }
        
        .code-example {
            background: #1a1a1a;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: "Courier New", monospace;
            border: 1px solid #374151;
            overflow-x: auto;
        }
        
        .code-example pre {
            color: #e2e8f0;
        }
        
        .code-example .comment {
            color: #6b7280;
        }
        
        .code-example .keyword {
            color: #f472b6;
        }
        
        .code-example .string {
            color: #34d399;
        }
        
        .code-example .number {
            color: #fbbf24;
        }
        
        .benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .benefit {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .benefit h4 {
            color: #00d4aa;
            margin-bottom: 10px;
        }
        
        .interactive-demo {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }
        
        .btn {
            background: linear-gradient(45deg, #00d4aa, #7c3aed);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.3s ease;
        }
        
        .btn:hover {
            transform: scale(1.05);
        }
        
        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            opacity: 0.8;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            .practice-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèóÔ∏è Terraform Best Practices</h1>
            <p>Estrutura e Boas Pr√°ticas da HashiCorp Implementadas</p>
        </div>
        
        <div class="section">
            <h2>üìÅ Estrutura de Arquivos</h2>
            <p>Organiza√ß√£o seguindo as melhores pr√°ticas da HashiCorp:</p>
            <div class="file-structure">
                <pre><span class="folder">Terraform-IA/</span>
‚îú‚îÄ‚îÄ <span class="file">main.tf</span>                 # Arquivo principal (vazio - boa pr√°tica)
‚îú‚îÄ‚îÄ <span class="file">providers.tf</span>           # Configura√ß√£o de providers
‚îú‚îÄ‚îÄ <span class="file">versions.tf</span>            # Vers√µes dos providers
‚îú‚îÄ‚îÄ <span class="file">variables.tf</span>           # Declara√ß√£o de vari√°veis
‚îú‚îÄ‚îÄ <span class="file">outputs.tf</span>             # Outputs do Terraform
‚îú‚îÄ‚îÄ <span class="file">networking.tf</span>          # Recursos de rede (VPC, Subnets)
‚îú‚îÄ‚îÄ <span class="file">security.tf</span>            # Security Groups
‚îú‚îÄ‚îÄ <span class="file">compute.tf</span>             # ECS Cluster
‚îú‚îÄ‚îÄ <span class="file">ecs-task.tf</span>           # Task Definitions e Services
‚îú‚îÄ‚îÄ <span class="file">load-balancer.tf</span>      # ALB e Target Groups
‚îú‚îÄ‚îÄ <span class="file">autoscaling.tf</span>        # Auto Scaling Groups
‚îú‚îÄ‚îÄ <span class="file">iam.tf</span>                # IAM Roles e Policies
‚îú‚îÄ‚îÄ <span class="file">README.md</span>             # Documenta√ß√£o
‚îî‚îÄ‚îÄ <span class="file">terraform.tfrc</span>        # Configura√ß√£o do Terraform</pre>
            </div>
        </div>
        
        <div class="section">
            <h2>‚úÖ Boas Pr√°ticas Implementadas</h2>
            <div class="practice-grid">
                <div class="practice-card">
                    <div class="status-badge">‚úÖ Implementado</div>
                    <h3>üìÅ Separa√ß√£o por Responsabilidade</h3>
                    <p>Cada arquivo tem uma responsabilidade espec√≠fica: networking, security, compute, etc. Facilita manuten√ß√£o e navega√ß√£o.</p>
                </div>
                <div class="practice-card">
                    <div class="status-badge">‚úÖ Implementado</div>
                    <h3>üè∑Ô∏è Nomenclatura Consistente</h3>
                    <p>Recursos nomeados com prefixo "nh-" seguindo padr√£o: nh-ecs, nh-alb, nh-teste. Evita conflitos e facilita identifica√ß√£o.</p>
                </div>
                <div class="practice-card">
                    <div class="status-badge">‚úÖ Implementado</div>
                    <h3>üè∑Ô∏è Tagging Estrat√©gico</h3>
                    <p>Todos os recursos taggeados com Environment, Project, ManagedBy e Name. Facilita gerenciamento de custos e compliance.</p>
                </div>
                <div class="practice-card">
                    <div class="status-badge">‚úÖ Implementado</div>
                    <h3>üîí Princ√≠pio do Menor Privil√©gio</h3>
                    <p>Security groups otimizados: apenas acesso necess√°rio entre ALB e ECS tasks. Sem acesso SSH desnecess√°rio.</p>
                </div>
                <div class="practice-card">
                    <div class="status-badge">‚úÖ Implementado</div>
                    <h3>üìä Monitoramento Integrado</h3>
                    <p>CloudWatch logs, m√©tricas e alarms configurados. Auto scaling baseado em m√©tricas de CPU.</p>
                </div>
                <div class="practice-card">
                    <div class="status-badge">‚úÖ Implementado</div>
                    <h3>üîÑ Versionamento de Providers</h3>
                    <p>Vers√µes espec√≠ficas definidas em versions.tf. Garante reprodutibilidade e estabilidade.</p>
                </div>
                <div class="practice-card">
                    <div class="status-badge">‚úÖ Implementado</div>
                    <h3>üìù Documenta√ß√£o Completa</h3>
                    <p>README.md detalhado com arquitetura, funcionalidades, como usar e outputs importantes.</p>
                </div>
                <div class="practice-card">
                    <div class="status-badge">‚úÖ Implementado</div>
                    <h3>‚ö° Auto Scaling Inteligente</h3>
                    <p>Target tracking scaling com cooldowns apropriados. Escala baseado em m√©tricas reais de utiliza√ß√£o.</p>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>üí° Exemplos de Implementa√ß√£o</h2>
            <h3>üìã Vari√°veis Bem Definidas</h3>
            <div class="code-example">
                <pre><span class="comment"># variables.tf</span>
<span class="keyword">variable</span> <span class="string">"aws_region"</span> {
  description = <span class="string">"AWS region"</span>
  type        = <span class="string">string</span>
  default     = <span class="string">"us-west-2"</span>
}

<span class="keyword">variable</span> <span class="string">"vpc_cidr"</span> {
  description = <span class="string">"CIDR block for VPC"</span>
  type        = <span class="string">string</span>
  default     = <span class="string">"192.168.0.0/16"</span>
}</pre>
            </div>
            
            <h3>üè∑Ô∏è Tagging Estrat√©gico</h3>
            <div class="code-example">
                <pre><span class="comment"># Aplicado em todos os recursos</span>
<span class="keyword">tags</span> = merge(var.default_tags, {
  Name = <span class="string">"nh-ecs"</span>
})

<span class="comment"># default_tags definido em variables.tf</span>
<span class="keyword">variable</span> <span class="string">"default_tags"</span> {
  description = <span class="string">"Default tags for all resources"</span>
  type        = map(string)
  default = {
    Environment = <span class="string">"development"</span>
    Project     = <span class="string">"terraform-mcp"</span>
    ManagedBy   = <span class="string">"terraform"</span>
  }
}</pre>
            </div>
            
            <h3>üîí Security Groups Otimizados</h3>
            <div class="code-example">
                <pre><span class="comment"># security.tf - Apenas acesso necess√°rio</span>
<span class="keyword">resource</span> <span class="string">"aws_security_group"</span> <span class="string">"ecs_tasks"</span> {
  name        = <span class="string">"nh-ecs-tasks-sg"</span>
  description = <span class="string">"Security group for ECS tasks in Fargate"</span>
  vpc_id      = aws_vpc.main.id
  
  <span class="comment"># Apenas HTTP do ALB</span>
  ingress {
    description     = <span class="string">"HTTP from ALB"</span>
    from_port       = <span class="number">80</span>
    to_port         = <span class="number">80</span>
    protocol        = <span class="string">"tcp"</span>
    security_groups = [aws_security_group.alb.id]
  }
  
  <span class="comment"># Egress necess√°rio para internet</span>
  egress {
    description = <span class="string">"All outbound traffic"</span>
    from_port   = <span class="number">0</span>
    to_port     = <span class="number">0</span>
    protocol    = <span class="string">"-1"</span>
    cidr_blocks = [<span class="string">"0.0.0.0/0"</span>]
  }
}</pre>
            </div>
        </div>
        
        <div class="section">
            <h2>üöÄ Benef√≠cios Alcan√ßados</h2>
            <div class="benefits">
                <div class="benefit">
                    <h4>üõ°Ô∏è Seguran√ßa</h4>
                    <p>Princ√≠pio do menor privil√©gio aplicado. Security groups otimizados sem acessos desnecess√°rios.</p>
                </div>
                <div class="benefit">
                    <h4>üí∞ Custo</h4>
                    <p>Recursos otimizados e bem dimensionados. Auto scaling inteligente para controlar custos.</p>
                </div>
                <div class="benefit">
                    <h4>üõ†Ô∏è Manuten√ß√£o</h4>
                    <p>C√≥digo organizado e bem documentado. F√°cil navega√ß√£o e modifica√ß√£o.</p>
                </div>
                <div class="benefit">
                    <h4>üìà Escalabilidade</h4>
                    <p>Auto scaling configurado. Arquitetura preparada para crescimento.</p>
                </div>
                <div class="benefit">
                    <h4>üîç Monitoramento</h4>
                    <p>Logs e m√©tricas integrados. Visibilidade completa da infraestrutura.</p>
                </div>
                <div class="benefit">
                    <h4>üîÑ Reprodutibilidade</h4>
                    <p>Infraestrutura como c√≥digo. Deploy consistente e versionado.</p>
                </div>
            </div>
        </div>
        
        <div class="interactive-demo">
            <h3>üéÆ Demonstra√ß√£o Interativa</h3>
            <p>Explore as boas pr√°ticas implementadas</p>
            <button class="btn" onclick="showPractice('security')">üîí Ver Seguran√ßa</button>
            <button class="btn" onclick="showPractice('structure')">üìÅ Ver Estrutura</button>
            <button class="btn" onclick="showPractice('monitoring')">üìä Ver Monitoramento</button>
        </div>
        
        <div class="footer">
            <p>üõ†Ô∏è Desenvolvido seguindo as melhores pr√°ticas da HashiCorp</p>
            <p>üìÖ √öltima atualiza√ß√£o: <span id="current-date"></span></p>
        </div>
    </div>
    
    <script>
        document.getElementById("current-date").textContent = new Date().toLocaleDateString("pt-BR");
        
        function showPractice(practice) {
            const practices = {
                security: {
                    title: "üîí Seguran√ßa Implementada",
                    content: "‚Ä¢ Security groups otimizados para Fargate\n‚Ä¢ Apenas acesso HTTP do ALB para ECS tasks\n‚Ä¢ Sem acesso SSH desnecess√°rio\n‚Ä¢ Princ√≠pio do menor privil√©gio aplicado\n‚Ä¢ IAM roles com permiss√µes m√≠nimas"
                },
                structure: {
                    title: "üìÅ Estrutura Organizada",
                    content: "‚Ä¢ Separa√ß√£o por responsabilidade\n‚Ä¢ Nomenclatura consistente (nh-*)\n‚Ä¢ Tagging estrat√©gico em todos os recursos\n‚Ä¢ Documenta√ß√£o completa\n‚Ä¢ Versionamento de providers"
                },
                monitoring: {
                    title: "üìä Monitoramento Completo",
                    content: "‚Ä¢ CloudWatch logs para containers\n‚Ä¢ M√©tricas de CPU para auto scaling\n‚Ä¢ Alarms configurados\n‚Ä¢ Target tracking scaling\n‚Ä¢ Health checks do ALB"
                }
            };
            
            const practiceInfo = practices[practice];
            if (practiceInfo) {
                alert(`${practiceInfo.title}\n\n${practiceInfo.content}`);
            }
        }
    </script>
</body>
</html> 